<!DOCTYPE html>
<html>
<head>
    <title>EASY SPACE TYCOON</title>
    <style>
        body { margin: 0; overflow: hidden; background: #e0e0ff; font-family: sans-serif; }
        
        /* BIG CLEAR UI */
        #hud { 
            position: absolute; top: 20px; left: 20px; 
            background: white; padding: 20px; border: 5px solid #000;
            box-shadow: 10px 10px 0px #555; pointer-events: none;
        }
        #money-label { font-size: 20px; font-weight: bold; color: #555; }
        #money-val { font-size: 50px; font-weight: 900; color: #00aa00; display: block; }
        
        /* EASY TO READ PRICE TAGS */
        .price-tag { 
            position: absolute; background: yellow; color: black; 
            padding: 10px 20px; border: 3px solid black; font-size: 18px; 
            font-weight: bold; transform: translate(-50%, -50%); 
        }

        #hint { 
            position: absolute; bottom: 20px; width: 100%; text-align: center; 
            font-size: 24px; font-weight: bold; background: white; padding: 10px 0; border-top: 4px solid black;
        }
    </style>
</head>
<body>

    <div id="hud">
        <span id="money-label">MONEY:</span>
        <span id="money-val">$0</span>
        <span id="income-val" style="font-size: 18px; font-weight: bold; color: blue;">+ $0 per second</span>
    </div>

    <div id="hint">WASD to Move | SPACE to Jump | Walk into Yellow Circles to Buy</div>
    <div id="labels-container"></div>

    <script type="importmap">
        { "imports": { "three": "https://unpkg.com/three@0.160.0/build/three.module.js" } }
    </script>

    <script type="module">
        import * as THREE from 'three';

        // --- VISUALS (BRIGHT AND EASY) ---
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x87ceeb); // Bright Blue Sky

        const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        scene.add(new THREE.AmbientLight(0xffffff, 1)); // Very bright light

        // --- GROUND ---
        const floor = new THREE.Mesh(new THREE.PlaneGeometry(1000, 1000), new THREE.MeshStandardMaterial({color: 0xeeeeee}));
        floor.rotation.x = -Math.PI / 2;
        scene.add(floor);
        scene.add(new THREE.GridHelper(200, 20, 0x000000, 0xcccccc));

        // --- PLAYER ---
        const player = new THREE.Group();
        const body = new THREE.Mesh(new THREE.BoxGeometry(1, 2, 1), new THREE.MeshStandardMaterial({color: 0xff0000}));
        body.position.y = 1;
        player.add(body);
        scene.add(player);

        // --- TYCOON LOGIC ---
        let money = 100;
        let income = 0;
        let vY = 0, isJumping = false;
        const keys = {}, buyPads = [];
        const labelContainer = document.getElementById('labels-container');

        function createPad(x, z, cost, name, color, onBuy) {
            const pad = new THREE.Group();
            const ring = new THREE.Mesh(new THREE.TorusGeometry(3, 0.2, 16, 32), new THREE.MeshBasicMaterial({color: 0xffff00}));
            ring.rotation.x = Math.PI/2;
            pad.add(ring);
            pad.position.set(x, 0.1, z);
            
            const div = document.createElement('div');
            div.className = 'price-tag';
            div.innerHTML = `${name}<br>$${cost}`;
            labelContainer.appendChild(div);

            pad.userData = { cost, active: true, onBuy, div };
            scene.add(pad);
            buyPads.push(pad);
        }

        // --- THE BUILDINGS (BIG AND BOLD) ---
        createPad(15, 0, 100, "MONEY TOWER", 0x00ff00, () => {
            income += 20;
            const b = new THREE.Mesh(new THREE.BoxGeometry(5, 15, 5), new THREE.MeshStandardMaterial({color: 0x00aa00}));
            b.position.set(15, 7.5, -10);
            scene.add(b);

            createPad(-15, 0, 500, "MEGA FACTORY", 0xff00ff, () => {
                income += 100;
                const b2 = new THREE.Mesh(new THREE.BoxGeometry(10, 20, 10), new THREE.MeshStandardMaterial({color: 0xaa00aa}));
                b2.position.set(-15, 10, -15);
                scene.add(b2);
            });
        });

        // --- CONTROLS ---
        window.addEventListener('keydown', e => {
            keys[e.code] = true;
            if(e.code === 'Space' && !isJumping) { vY = 0.4; isJumping = true; }
        });
        window.addEventListener('keyup', e => keys[e.code] = false);

        function animate() {
            requestAnimationFrame(animate);
            
            if(keys['KeyW']) player.translateZ(0.3);
            if(keys['KeyS']) player.translateZ(-0.3);
            if(keys['KeyA']) player.rotation.y += 0.05;
            if(keys['KeyD']) player.rotation.y -= 0.05;

            vY -= 0.02; player.position.y += vY;
            if(player.position.y <= 0) { player.position.y = 0; vY = 0; isJumping = false; }

            money += income/60;
            document.getElementById('money-val').innerText = "$" + Math.floor(money);
            document.getElementById('income-val').innerText = "+ $" + income + " per second";

            buyPads.forEach(pad => {
                if(!pad.userData.active) return;
                const v = pad.position.clone().add(new THREE.Vector3(0, 4, 0)).project(camera);
                pad.userData.div.style.left = (v.x * 0.5 + 0.5) * window.innerWidth + 'px';
                pad.userData.div.style.top = (-v.y * 0.5 + 0.5) * window.innerHeight + 'px';
                
                if(player.position.distanceTo(pad.position) < 3.5 && money >= pad.userData.cost) {
                    money -= pad.userData.cost; pad.userData.active = false; pad.userData.div.remove();
                    scene.remove(pad); pad.userData.onBuy();
                }
            });

            camera.position.lerp(new THREE.Vector3(0, 10, -20).applyMatrix4(player.matrixWorld), 0.1);
            camera.lookAt(player.position);
            renderer.render(scene, camera);
        }
        animate();
    </script>
</body>
</html>
